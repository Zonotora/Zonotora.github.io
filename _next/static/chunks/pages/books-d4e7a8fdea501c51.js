(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{3021:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/books",function(){return r(963)}])},9591:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var s=r(5893),a=r(7294),o=r(1664),c=r.n(o),l=r(2489),n=r(9417),i=JSON.parse('{"light":{"color":"#4d535c","background":{"color":"#fff7ed","hover":"#bcbcbc"},"border":{"color":"#0d1117","hover":"#ababab"}},"dark":{"color":"antiquewhite","background":{"color":"#0d1117","hover":"#0d1117"},"border":{"color":"#4d535c","hover":"antiquewhite"}}}');let d=(0,s.jsx)("svg",{style:{position:"relative",top:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 384 512",children:(0,s.jsx)("path",{d:"M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"})}),u=(0,s.jsx)("svg",{style:{position:"relative",top:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 384 512",children:(0,s.jsx)("path",{d:"M297.2 248.9C311.6 228.3 320 203.2 320 176c0-70.7-57.3-128-128-128S64 105.3 64 176c0 27.2 8.4 52.3 22.8 72.9c3.7 5.3 8.1 11.3 12.8 17.7l0 0c12.9 17.7 28.3 38.9 39.8 59.8c10.4 19 15.7 38.8 18.3 57.5H109c-2.2-12-5.9-23.7-11.8-34.5c-9.9-18-22.2-34.9-34.5-51.8l0 0 0 0c-5.2-7.1-10.4-14.2-15.4-21.4C27.6 247.9 16 213.3 16 176C16 78.8 94.8 0 192 0s176 78.8 176 176c0 37.3-11.6 71.9-31.4 100.3c-5 7.2-10.2 14.3-15.4 21.4l0 0 0 0c-12.3 16.8-24.6 33.7-34.5 51.8c-5.9 10.8-9.6 22.5-11.8 34.5H226.4c2.6-18.7 7.9-38.6 18.3-57.5c11.5-20.9 26.9-42.1 39.8-59.8l0 0 0 0 0 0c4.7-6.4 9-12.4 12.7-17.7zM192 128c-26.5 0-48 21.5-48 48c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-44.2 35.8-80 80-80c8.8 0 16 7.2 16 16s-7.2 16-16 16zm0 384c-44.2 0-80-35.8-80-80V416H272v16c0 44.2-35.8 80-80 80z"})});var h=e=>{let{active:t}=e,[r,o]=(0,a.useState)(!0),h=e=>e.charAt(0).toUpperCase()+e.slice(1);return(0,s.jsx)("header",{children:(0,s.jsxs)("div",{className:"header",children:[["posts","books","projects"].map(e=>e===t?(0,s.jsx)("span",{style:{textDecoration:"underline"},children:(0,s.jsx)(c(),{href:"/".concat(e),children:h(e)})},e):(0,s.jsx)(c(),{href:"/".concat(e),children:h(e)},e)),(0,s.jsxs)("div",{className:"header-icons",children:[(0,s.jsx)(c(),{href:"/feed.xml",children:(0,s.jsx)(l.G,{icon:n.Fwd})}),(0,s.jsx)("span",{onClick:()=>{let e,t,s,a,c;let l=r?"light":"dark";e=i[l].background.color,t=i[l].background.hover,c=i[l].color,s=i[l].border.color,a=i[l].border.hover,document.documentElement.style.setProperty("--background-color",e),document.documentElement.style.setProperty("--background-hover-color",t),document.documentElement.style.setProperty("--color",c),document.documentElement.style.setProperty("--border-color",s),document.documentElement.style.setProperty("--border-hover-color",a),o(!r)},children:r?u:d})]})]})})}},963:function(e,t,r){"use strict";r.r(t),r.d(t,{Home:function(){return y},__N_SSG:function(){return j},default:function(){return v}});var s,a,o=r(5893),c=r(1664),l=r.n(c),n=e=>{let{book:t,summary:r,slug:s}=e,a=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:t.title}),(0,o.jsx)("div",{children:t.author}),(0,o.jsx)("div",{style:{fontSize:"10pt"},children:t.date})]}),c=(0,o.jsx)(l(),{href:"/books/".concat(s),className:"book-preview".concat(r?" summary":""),children:a}),n=(0,o.jsx)("div",{className:"book-preview".concat(r?" summary":""),children:a});return r?c:n},i=r(9591),d=r(2489),u=r(9417);(s=a||(a={}))[s.None=0]="None",s[s.AZ=1]="AZ",s[s.ZA=2]="ZA";let h=e=>e===a.None?a.AZ:e===a.AZ?a.ZA:(a.ZA,a.None);var p=r(7294),g=e=>{let{filter:t,setFilter:r,validPredicates:s,showStats:c,setShowStats:l}=e,[n,i]=(0,p.useState)([]),[g,m]=(0,p.useState)(""),x=(e,t)=>{r(r=>({...r,sort:{...r.sort,[e]:t}}))},j=(e,s)=>{if(!e)return;let a=t.predicate[e];a===s&&(s=""),r(t=>({...t,predicate:{...t.predicate,[e]:s}}))},y=e=>{switch(e){case a.AZ:return u.bDz;case a.ZA:return u.ifd;case a.None:return u.DhN}},v=e=>"icon".concat(e!==a.None?" active":""),b=e=>{let t="icon";return e===g&&(t+=n.length>0?" active":""),t},k=(e,r)=>{let s="icon";return r===t.predicate[e]&&(s+=" active"),s},f=(e,t)=>{if(g!==e){let r=Array.from(t);r.sort(),i(r.map(t=>[e,t])),m(e)}else i([]),m("")};return(0,o.jsxs)("div",{className:"book-header",children:[(0,o.jsxs)("div",{className:"book-header-main",children:[(0,o.jsxs)("span",{className:v(t.sort.year),onClick:()=>{let e=h(t.sort.year);x("year",e)},children:["year ",(0,o.jsx)(d.G,{icon:y(t.sort.year)})]}),(0,o.jsxs)("span",{className:v(t.sort.title),onClick:()=>{let e=h(t.sort.title);x("title",e)},children:["title ",(0,o.jsx)(d.G,{icon:y(t.sort.title)})]}),(0,o.jsxs)("span",{className:v(t.sort.author),onClick:()=>{let e=h(t.sort.author);x("author",e)},children:["author ",(0,o.jsx)(d.G,{icon:y(t.sort.author)})]}),"|",(0,o.jsxs)("span",{className:b("year"),onClick:()=>{f("year",s.year)},children:["year ",(0,o.jsx)(d.G,{icon:u.G_j})]}),(0,o.jsxs)("span",{className:b("tag"),onClick:()=>{f("tag",s.tags)},children:["tag ",(0,o.jsx)(d.G,{icon:u.G_j})]}),"|",(0,o.jsxs)("span",{className:"icon".concat(c?" active":""),onClick:()=>l(!c),children:["stats ",(0,o.jsx)(d.G,{icon:u.Wpq})]})]}),n?(0,o.jsx)("div",{className:"book-header-secondary",children:n.map(e=>{let[t,r]=e;return(0,o.jsx)("span",{className:k(t,r),onClick:()=>j(t,r),children:r},r)})}):(0,o.jsx)(o.Fragment,{})]})},m=JSON.parse('[{"title":"Meditations","author":"Marcus Aurelius","country":"","date":"2023-07-19","language":"English","pages":254,"tags":[],"year":"180"},{"title":"Ultralearning","author":"Scott H Young","country":"USA","date":"2023-07-15","language":"English","pages":305,"tags":[],"year":"2019"},{"author":"Marcel Proust","country":"France","date":"2023-06-26","language":"Swedish","pages":418,"tags":["Bokklubben World Library"],"title":"Swann\'s Way","year":"1913"},{"author":"Richard Thaler","country":"USA","date":"2023-01-07","language":"English","pages":455,"tags":[],"title":"Misbehaving: The Making of Behavioral Economics","year":"2015"},{"author":"Leo Tolstoy","country":"Russia","date":"2023-01-01","language":"Russian","pages":77,"tags":["Bokklubben World Library"],"title":"The Death of Ivan Ilyich","year":"1886"}]');let x=e=>e.toLowerCase().replaceAll(":"," ").replaceAll(/\s+/g,"-");var j=!0;let y=e=>{let{summaries:t}=e,[r,s]=(0,p.useState)({}),[c,l]=(0,p.useState)(m),[d,u]=(0,p.useState)({sort:{title:a.None,author:a.None,year:a.None},predicate:{year:void 0,tag:void 0}}),[h,j]=(0,p.useState)({year:new Set,tags:new Set}),[y,v]=(0,p.useState)(!1),[b,k]=(0,p.useState)({total:{books:0,pages:0},predicates:{}});(0,p.useEffect)(()=>{let e={};for(let r of t){let t=x(r.title);e[t]=r.slug}s(e);let r={year:new Set,tags:new Set},a={books:0,pages:0},o={total:structuredClone(a),predicates:{}},c=(e,t)=>{e in o.predicates||(o.predicates[e]=structuredClone(a)),o.predicates[e].books+=1,o.predicates[e].pages+=t.pages};for(let e of m){let t=e.date.slice(0,4);for(let s of(r.year.add(t),e.tags))r.tags.add(s),c(s,e);o.total.books+=1,o.total.pages+=e.pages,c(t,e)}j(r),k(o)},[]),(0,p.useEffect)(()=>{let e=m.filter(e=>{let t=!0;return d.predicate.year&&t&&(t=e.date.slice(0,4)===d.predicate.year),d.predicate.tag&&t&&(t=e.tags.includes(d.predicate.tag)),t}).sort((e,t)=>{let r=0;return d.sort.year!==a.None&&(r||(r=d.sort.year===a.AZ?e.date.localeCompare(t.date):t.date.localeCompare(e.date))),d.sort.title!==a.None&&(r||(r=d.sort.title===a.AZ?e.title.localeCompare(t.title):t.title.localeCompare(e.title))),d.sort.author!==a.None&&(r||(r=d.sort.author===a.AZ?e.author.localeCompare(t.author):t.author.localeCompare(e.author))),r});l(e)},[d]);let f=(0,o.jsx)("div",{className:"center",children:(0,o.jsxs)("table",{className:"statistics",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{}),(0,o.jsx)("td",{children:"Books"}),(0,o.jsx)("td",{children:"Pages"})]})}),(0,o.jsxs)("tbody",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:"Total"}),(0,o.jsx)("td",{children:b.total.books}),(0,o.jsx)("td",{children:b.total.pages})]}),Object.entries(b.predicates).map(e=>{let[t,r]=e;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:t}),(0,o.jsx)("td",{children:r.books}),(0,o.jsx)("td",{children:r.pages})]},t)})]})]})}),N=(0,o.jsxs)("div",{className:"books",children:[c.map(e=>(0,o.jsx)(n,{book:e,summary:x(e.title) in r,slug:r[x(e.title)]},e.title)),[1,2,3].map(e=>(0,o.jsx)("div",{className:"book-preview-dummy"},e))]});return(0,o.jsxs)("div",{className:"main",children:[(0,o.jsx)(i.Z,{active:"books"}),(0,o.jsx)(g,{filter:d,setFilter:u,validPredicates:h,showStats:y,setShowStats:v}),y?f:N]})};var v=y}},function(e){e.O(0,[976,956,774,888,179],function(){return e(e.s=3021)}),_N_E=e.O()}]);